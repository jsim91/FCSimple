% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fcs_update.R
\name{fcs_update}
\alias{fcs_update}
\title{Update FCSimple Object with Instrument Metadata}
\usage{
fcs_update(fcs_join_obj)
}
\arguments{
\item{fcs_join_obj}{An FCSimple analysis object (list) returned by \code{FCSimple::fcs_join()}.
May already include \code{collection_instrument} and \code{object_history}.}
}
\value{
The input \code{fcs_join_obj}, with the fields:
\itemize{
\item \code{collection_instrument}: auto-detected as 'cytof' or 'flow' based on data.
\item \code{object_history}: a character string recording the update timestamp.
}
}
\description{
Adds or updates the collection instrument type and history in an FCSimple
analysis object. If the object already contains both \code{collection_instrument}
and \code{object_history}, the function issues a warning and returns the object
unchanged.
}
\details{
\itemize{
\item If both \code{collection_instrument} and \code{object_history} are present in
\code{fcs_join_obj}, a warning \code{"object is already up to date"} is issued
and the original object is returned.
\item Otherwise, \code{collection_instrument} is auto-detected based on the data:
if min(data) >= 0, assumes 'cytof' (mass cytometry); otherwise assumes
'flow' (fluorescence cytometry). \code{object_history} is initialized with
\code{"updated: <timestamp>"}.
}
}
\examples{
\dontrun{
  files <- list.files("data/fcs", "\\\\.fcs$", full.names = TRUE)
  joined <- FCSimple::fcs_join(files)

  # Update adds metadata (instrument_type is auto-detected)
  updated <- FCSimple::fcs_update(joined)

  # Calling again warns and returns unchanged
  unchanged <- FCSimple::fcs_update(updated)
}

}
\seealso{
FCSimple::fcs_join, FCSimple::fcs_gating_object
}
