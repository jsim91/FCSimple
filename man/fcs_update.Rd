% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fcs_update.R
\name{fcs_update}
\alias{fcs_update}
\title{Update FCSimple Object with Instrument Metadata}
\usage{
fcs_update(fcs_join_obj, instrument_type = c("cytof", "flow"))
}
\arguments{
\item{fcs_join_obj}{An FCSimple analysis object (list) returned by \code{FCSimple::fcs_join()}.
May already include \code{collection_instrument} and \code{object_history}.}

\item{instrument_type}{Character of length one; the type of cytometry data. Must be either
\code{"cytof"} (mass cytometry) or \code{"flow"} (fluorescence cytometry).
Default is the first element of \code{c("cytof","flow")}.}
}
\value{
The input \code{fcs_join_obj}, with the fields:
\itemize{
\item \code{collection_instrument}: set to the specified \code{instrument_type}.
\item \code{object_history}: a character string recording the update timestamp.
}
}
\description{
Adds or updates the collection instrument type and history in an FCSimple
analysis object. If the object already contains both \code{collection_instrument}
and \code{object_history}, the function issues a warning and returns the object
unchanged.
}
\details{
\itemize{
\item If both \code{collection_instrument} and \code{object_history} are present in
\code{fcs_join_obj}, a warning \code{"object is already up to date"} is issued
and the original object is returned.
\item Otherwise, \code{collection_instrument} is set to \code{instrument_type}, and
\code{object_history} is initialized with \code{"updated: <timestamp>"}.
}
}
\examples{
\dontrun{
  files <- list.files("data/fcs", "\\\\.fcs$", full.names = TRUE)
  joined <- FCSimple::fcs_join(files)

  # First update adds metadata
  updated <- FCSimple::fcs_update(joined, instrument_type = "flow")

  # Calling again warns and returns unchanged
  unchanged <- FCSimple::fcs_update(updated, instrument_type = "cytof")
}

}
\seealso{
FCSimple::fcs_join, FCSimple::fcs_gating_object
}
